<div ng-include="'components/navbar/navbar.html'"></div>
<!-- BEGIN PAGE CONTENT-->
<div class="" cg-busy="myPromise">
  <script type="text/ng-template" id="memberTemplate.html">
     <a >
        <img class="img-circle" ng-src="{{match.model.avatar}}" err-src="assets/images/avatars/avatar.png" > {{match.model.name}}
     </a>
  </script>
<div class="row profile" >
    <div class="col-md-12">
        <!--BEGIN TABS-->
        <div class="row profile-nav">
            <!--start col-md-9-->
            <div class="col-md-12">
                <!-- Title -->
                <div class="row">
                    <div class="col-md-1">
                        <button ng-if="task._id" type="button" name="button" style="margin-bottom:5px;width:100%" class="btn btn-xs btn-outline btn-info" ng-click="refreshTask()">Refresh</button>
                        <img src="assets/images/todo.png" class="img-responsive" alt="" />
                    </div>
                    <div class="col-md-11">
                        <div class="row">
                            <div class="col-md-9 col-sm-12 profile-info">
                                <h1>
                                    <a href="#" style="color:black!important" editable-text="task.name" e-style="width: 500px" buttons="right">{{ task.name || 'Please give a name of your task' }}</a>
                                </h1>
                                <ul class="list list-inline">
                                    <li style="margin-top:5px">
                                        <i class="fa fa-flash"></i>
                                        <span class="text-muted" style="margin-right:10px">
                                          Activity
                                        </span>
                                        <a href="#" editable-text="task.activity" e-style="width: 500px" e-uib-typeahead="activity.longname for activity in activities | filter:$viewValue | limitTo:8">
                                          {{task.activity || 'Please give activity' }}
                                        </a>
                                    </li><br>
                                    <li style="margin-top:5px">
                                        <i class="fa fa-map-marker"></i>
                                        <span class="text-muted" style="margin-right:10px">
                                          Context
                                        </span>
                                        <a href="#" editable-text="task.context" e-style="width: 500px" e-uib-typeahead="context.longname for context in contexts | filter:$viewValue | limitTo:8">
                                          {{task.context || 'Please give context' }}
                                        </a>
                                    </li>
                                </ul>
                                <div class="row">
                                    <div class="descriptionTask">
                                        <span ng-if="task.description">Description : </span>
                                        <a href="#" editable-textarea="task.description" style="color:grey!important;margin-right:25px" e-label="Description" e-style="width: 500px">{{ task.description || ' + Description' }}</a>
                                        <div class="" style="height:10px;" ng-if="task.description || task.hypothesis">
                                            <br>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--end col-md-12-->
</div>
<!--end row-->
<div class="row">
    <!--############### PLAN ############  -->

    <div class="col-lg-3 col-md-6 col-sm-12" ng-class="{'label-default':task.metrics[0].status ==='Not Started'}" style="padding-bottom:10px;">
        <div class="pdcaCol" ng-class="{'label-default':task.metrics[0].status ==='Not Started'}">
            PLAN
            <div class="pull-right" ng-if="task.metrics[0].status ==='Not Started'">
                <span class="label" ng-class="{'label-info':task.metrics[0].status ==='In Progress','label-success':task.metrics[0].status ==='Finished','label-default':task.metrics[0].status ==='Not Started','label-lightgrey':task.metrics[0].status =='Withdrawn'}">
                      {{task.metrics[0].status}}
                    </span>
            </div>
        </div>

        <!-- Engagement -->
        <div class="portlet sale-summary" >
            <div class="portlet-title">
                <div class="caption">
                    Engagement
                </div>
                <div class="tools">
                </div>
            </div>
            <div class="portlet-body" style="padding:0!important">
                <table class="table table-striped table-hover">
                    <tbody style="text-align:left;">
                        <tr>
                            <td>
                                <span class="text-muted">StartDate
                                </span>
                            </td>
                            <td>
                                <span class="pull-right text-info">
                                  <!-- <a href="#" editable-bsdate="task.metrics[0].targetstartDate" e-is-open="opened.$data" e-ng-click="open($event,'$data')" e-datepicker-popup="mediumDate" e-readonly="true"> -->
                                  <md-button class="md-button-slim" ng-click="showDatePicker(task.metrics[0],'targetstartDate', $event)" aria-label="none" >
                                    {{ (task.metrics[0].targetstartDate | date:'mediumDate') || 'empty' }}
                                  </md-button>
                                  <!-- </a> -->
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left">
                                <span class="text-muted">Due Date
                                </span>
                            </td>
                            <td>
                                <span class="pull-right text-info">
                                  <!-- <a href="#" editable-bsdate="task.metrics[0].targetEndDate" e-is-open="opened.$data" e-ng-click="open($event,'$data')" e-datepicker-popup="mediumDate" e-readonly="true"> -->
                                    <md-button class="md-button-slim" ng-click="showDatePicker(task.metrics[0],'targetEndDate', $event)" aria-label="none" >

                                  {{ (task.metrics[0].targetEndDate | date:'mediumDate') || 'empty' }}
                                </md-button>

                                  <!-- </a> -->
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left">
                                <span class="text-muted">WorkLoad <small style="font-size:10px"><a href="#"> >> PERT</a></small>
                                </span>
                            </td>
                            <td>
                                <span class="pull-right text-info">
                                  <a href="#" class="days" e-min="0" e-step="0.001" editable-number="task.metrics[0].targetLoad" e-style="width: 100px;"  buttons="no">{{ task.metrics[0].targetLoad || 'empty'}}</a>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <!--Todo + Comments  -->
        <div class="portlet sale-summary">
            <div class="portlet-title">
                <div class="caption">
                    TodoList
                </div>
                <div class="tools">
                    <input type="text" class="myfilter" name="filterToDo" ng-model="filterToDo" placeholder="Filter Todo"> Number : <span class="text-info">{{task.todos.length}}</span>
                </div>
            </div>
            <div class="portlet-body" style="padding-bottom:5px;margin-bottom:0px;">
                <div class="row">
                    <div class="form-group" style=";margin-left:20px;padding-bottom:10px">
                        <div class="input-group" style="width:96%">
                            <input class="form-control" type="text" ng-model="newTodo.text" placeholder="Add New Todo" ng-enter="addTodo()">
                            <span class="input-group-btn">
                                <button class="btn btn-outline btn-info" type="button"><span ng-click="addTodo()">Add</button>
                              </span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <ul class="" ui-sortable style="-webkit-padding-start: 15px!important;" ng-model="task.todos">
                        <li class="todoTask" ng-repeat="todo in task.todos | filter:filterToDo track by $index  ">
                            <div class="circularToggleButtonView taskCheckboxNodeView " ng-class="todo.isDone ? ' circularToggleButtonView--toggledOn': 'circularToggleButtonView--toggledOff'">
                                <div ng-click="changeStatusTodo($index)"  class="circularButtonView circularToggleButtonView-button circularButtonView--xsmall circularButtonView--onWhiteBackground circularButtonView--active">
                                    <span class="circularButtonView-label">
                                      <svg class="svgIcon " viewBox="0 0 32 32" title="checkmark">
                                        <polygon points="27.672,4.786 10.901,21.557 4.328,14.984 1.5,17.812 10.901,27.214 30.5,7.615 "></polygon>
                                      </svg>
                                    </span>
                                </div>
                                <span ng-class="{'barre':todo.isDone}"><span style="color:black" >{{todo.text}}</span></span>
                            </div>
                            <div class="pull-right" style="margin-top:-20px;margin-right:20px;">
                                <md-button  class="md-button-slim" ng-click="$parent.showTodoDatePicker(todo, $event)" aria-label="none" style="min-width:20px!important;margin:0!important;padding:0!important;border-bottom:none;">
                                  <small class="text-muted" ng-show="todo.date">{{todo.date |date:'dd MMM' }}</small>
                                    <div ng-hide="todo.date" class="circularButtonView circularToggleButtonView-button circularButtonView--small circularButtonView--onWhiteBackground" uib-tooltip-html="'Add a due date to this subtask'" tooltip-placement="bottom">
                                        <span class="circularButtonView-label">
                                      <svg class="svgIcon task-row-due-date-icon" viewBox="0 0 32 32" title="calendar">
                                        <rect x="16" y="16" width="2" height="2"></rect><rect x="20" y="16" width="2" height="2"></rect>
                                        <rect x="20" y="20" width="2" height="2"></rect><rect x="16" y="20" width="2" height="2"></rect>
                                        <rect x="8" y="20" width="2" height="2"></rect><rect x="8" y="24" width="2" height="2"></rect>
                                        <rect x="16" y="24" width="2" height="2"></rect><rect x="12" y="16" width="2" height="2"></rect>
                                        <rect x="12" y="20" width="2" height="2"></rect><rect x="12" y="24" width="2" height="2"></rect>
                                        <path d="M22,2V0h-2v2h-8V0h-2v2H2v30h28V2H22z M28,30H4V12h24V30z M28,10H4V4h6v2h2V4h8v2h2V4h6V10z"></path>
                                      </svg>
                                    </span>
                                    </div>
                                </md-button>
                                <a ng-click="AssignSubtTaskActor(todo)">
                                    <img ng-show="todo.actor" uib-tooltip-html="'{{todo.actor.name}}'" tooltip-placement="bottom" alt="" ng-src="{{todo.actor.avatar}}" style="width:30px;height:30px;" class="img-circle" err-src="assets/images/avatars/avatar.png" />&nbsp;
                                    <div ng-hide="todo.actor" class="circularButtonView circularToggleButtonView-button circularButtonView--small circularButtonView--onWhiteBackground" uib-tooltip-html="'Assign this subtask'" tooltip-placement="bottom">
                                        <span class="circularButtonView-label">
                                      <svg class="svgIcon task-row-assignee-icon" viewBox="0 0 32 32" title="unassigned">
                                        <path d="M20.534,16.765C23.203,15.204,25,12.315,25,9c0-4.971-4.029-9-9-9S7,4.029,7,9c0,3.315,1.797,6.204,4.466,7.765C5.962,18.651,2,23.857,2,30c0,0.681,0.065,1.345,0.159,2h27.682C29.935,31.345,30,30.681,30,30C30,23.857,26.038,18.651,20.534,16.765z M9,9c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S9,12.86,9,9z M4,30c0-6.617,5.383-12,12-12s12,5.383,12,12H4z"></path>
                                      </svg>
                                    </span>
                                    </div>
                                </a>
                                <!-- <button type="button" class=" " aria-hidden="true" ng-click="deleteTodo(todo)">&times;</button> -->
                            </div>
                        </li>
                        <li ng-show="blnAssignSubtaskActor">
                              <input class="mysearchname" type="text" placeholder="Name" ng-model="subtaskactorselected" uib-typeahead="member as member.name for member in members | filter:$viewValue:namesWith | limitTo:5" typeahead-min-length="0" typeahead-template-url="memberTemplate.html">
                              <span class="btn btn-primary" ng-click="addSubTaskActor(subtaskactorselected)">Add</span>
                              <span class="task-or">or</span>
                              <span class="btn btn-info  btn-sm btn-outline" ng-click='addMeToSubTaskActor()' ng-show="!mePresentInSubTaskActors">Assign to Me</span>
                              <span class="btn btn-info  btn-sm btn-outline" ng-click='removeMeToSubTaskActor()' ng-show="mePresentInSubTaskActors">Unassign to Me</span>

                        </li>
                    </ul>
                </div>
            </div>

        </div>

        <!-- Team -->
        <div class="portlet sale-summary">
            <div class="portlet-title">
                <div class="caption">
                    Team
                </div>
                <div class="tools">
                    <div class="pull-right" ng-click="TeamIsExpanded=!TeamIsExpanded">
                        <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!TeamIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                        <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="TeamIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                    </div>
                    <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.actors.length + task.followers.length}}</span></span>
                </div>
            </div>
            <div class="portlet-body" style="padding-bottom:0!important;margin-bottom:0px;" ng-show="TeamIsExpanded">
                <ul class="list-unstyled" style="margin-bottom:0!important">
                    <li>
                        <div class="pull-left" style="color:#898E95;width:65px;">Actors</div>
                        <div class="pull-left" ng-repeat="actor in task.actors ">
                            <img uib-tooltip-html="'{{actor.name}}'" tooltip-placement="bottom" alt="" ng-src="{{actor.avatar}}" style="width:30px;height:30px;" class="img-circle" err-src="assets/images/avatars/avatar.png" />&nbsp;
                        </div>
                        <a href="#" ng-click="blnAddActor=true" ng-hide="blnAddActor">
                        <div uib-tooltip-html="'Add an actor to this task not yet involved.'" tooltip-placement="bottom" class="circularButtonView add-button detailsFollowersView-addButton circularButtonView--small circularButtonView--onWhiteBackground circularButtonView--active">
                            <span class="circularButtonView-label">
                              <svg class="svgIcon add-followers-icon" viewBox="0 0 32 32" title="plus">
                                <polygon points="28,14 18,14 18,4 14,4 14,14 4,14 4,18 14,18 14,28 18,28 18,18 28,18"></polygon>
                              </svg>
                            </span>
                        </div>
                      </a>
                      <a href="#"  ng-show="blnAddActor" ng-click="blnAddActor=false">
                        <span class="btn btn-default  btn-sm btn-outline">Cancel</span>
                      </a>
                    </li>
                      <li ng-show="blnAddActor">
                            <input class="mysearchname" type="text" placeholder="Name" ng-model="actorselected" uib-typeahead="member as member.name for member in members | filter:$viewValue:namesWith | limitTo:5" typeahead-min-length="0" typeahead-template-url="memberTemplate.html">
                            <span class="btn btn-primary" ng-click="addActor(actorselected)">Add</span>
                            <span class="task-or">or</span>
                            <span class="btn btn-info  btn-sm btn-outline" ng-click='addMeToActor()' ng-show="!mePresentInActors">Assign to Me</span>
                            <span class="btn btn-info  btn-sm btn-outline" ng-click='removeMeToActor()' ng-show="mePresentInActors">Unassign to Me</span>

                      </li>
                    <li>
                        <div class="pull-left" style="color:#898E95;width:65px;">Followers</div>
                        <div class="pull-left" ng-repeat="actor in task.followers">
                            <img uib-tooltip-html="'{{actor.name}}'" tooltip-placement="bottom" alt="" ng-src="assets/images/avatars/{{actor._id}}.png" style="width:30px;height:30px" class="img-circle" err-src="assets/images/avatars/avatar.png" />&nbsp;
                        </div>
                        <a href="#" ng-click="blnAddFollower=true" ng-hide="blnAddFollower">
                          <div uib-tooltip-html="'Add a follower to this task.<br />Followers don\'t have actions in tasks '" tooltip-placement="bottom" class="circularButtonView add-button detailsFollowersView-addButton circularButtonView--small circularButtonView--onWhiteBackground circularButtonView--active">
                              <span class="circularButtonView-label">
                                <svg class="svgIcon add-followers-icon" viewBox="0 0 32 32" title="plus">
                                  <polygon points="28,14 18,14 18,4 14,4 14,14 4,14 4,18 14,18 14,28 18,28 18,18 28,18"></polygon>
                                </svg>
                              </span>
                          </div>
                        </a>
                        <a href="#"  ng-show="blnAddFollower" ng-click="blnAddFollower=false">
                          <span class="btn btn-default  btn-sm btn-outline">Cancel</span>
                        </a>
                      </li>
                      <li ng-show="blnAddFollower">
                            <input class="mysearchname" type="text" placeholder="Name" ng-model="followerselected" uib-typeahead="member as member.name for member in members | filter:$viewValue:namesWith | limitTo:5" typeahead-min-length="0" typeahead-template-url="memberTemplate.html">
                            <span class="btn btn-primary" ng-click="addFollower(followerselected)">Add</span>
                            <span class="task-or">or</span>
                            <span class="btn btn-info  btn-sm btn-outline" ng-click='addMeToFollower()' ng-show="!mePresentInFollowers">Assign to Me</span>
                            <span class="btn btn-info  btn-sm btn-outline" ng-click='removeMeToFollower()' ng-show="mePresentInFollowers">Unassign to Me</span>

                      </li>
                </ul>
            </div>
        </div>

        <!-- Options -->
        <div class="portlet sale-summary">
            <div class="portlet-title">
                <div class="caption">
                    Options
                </div>
                <div class="tools">
                    <div class="pull-right"  ng-click="OptionIsExpanded=!OptionIsExpanded">
                        <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!OptionIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                        <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="OptionIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                    </div>
                    <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  2</span></span>
                </div>
            </div>
            <div class="portlet-body" style="padding:0!important" ng-show="OptionIsExpanded">
                <table class="table table-striped table-hover">
                    <tbody style="text-align:left;">
                        <tr>
                            <td style="text-align:left">
                                <span class="text-muted">Hypothesis
                              </span>
                            </td>
                            <td style="text-align:right">
                                <a href="#" style="color:grey!important;" e-label="Hypothesis" editable-textarea="task.hypothesis" buttons="right">{{ task.hypothesis || ' Optional ' }}</a>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left">
                                <span class="text-muted">Risks
                              </span>
                            </td>
                            <td style="text-align:right" >
                                <a href="#" style="color:grey!important;" e-label="Risks" editable-textarea="task.risks" buttons="right">{{ task.risks || ' Optional' }}</a>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left">
                              <br>
                            </td>
                            <td style="text-align:right" >
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left">
                              <button ng-if="task._id"  type="button" name="button" style="width:100%;height:30px" class="btn btn-xs btn-outline btn-warning" ng-click="withdraw()">Withdraw</button>
                            </td>
                            <td style="text-align:right" >
                              <button ng-if="task._id" type="button" name="button" style="width:100%;height:30px" class="btn btn-xs btn-outline btn-danger" ng-click="delete()">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- Dashboards -->
        <div class="" id="Dashboards">
            <div class="portlet sale-summary" ng-if="task._id">
                <div class="portlet-title">
                    <div class="caption">
                        Dashboards
                    </div>
                    <div class="tools">
                        <div class="pull-right" ng-init="DashboardIsExpanded=false" ng-click="DashboardIsExpanded=!DashboardIsExpanded">
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!DashboardIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="DashboardIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                        </div>
                        <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.dashboards.length}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important" ng-show="DashboardIsExpanded">
                    <div tab-dashboard data="task" ng-if="task"></div>
                </div>
            </div>
        </div>
    </div>
    <!--############### DO ############  -->
    <div class="col-lg-3 col-md-6 col-sm-12" ng-class="{'label-info':task.metrics[0].status ==='In Progress'}" style="padding-bottom:20px;">
        <div class="pdcaCol" ng-class="{'label-info':task.metrics[0].status ==='In Progress'}">
            DO
            <div class="pull-right" ng-if="task.metrics[0].status ==='In Progress'">
                <span class="label" ng-class="{'label-info':task.metrics[0].status ==='In Progress','label-success':task.metrics[0].status ==='Finished','label-default':task.metrics[0].status ==='Not Started','label-lightgrey':task.metrics[0].status =='Withdrawn'}">
                      {{task.metrics[0].status}}
                    </span>
            </div>
            <div class="pull-right">
              <button type="button" name="button" style="margin-left:5px;" class="btn btn-xs btn-outline btn-warning" ng-click="reopen()" ng-if="task.metrics[0].status ==='Finished' ">ReOpen</button>
            </div>
        </div>

        <!--Metrics  -->
            <div class="portlet sale-summary" ng-repeat="(key, currentMetric) in task.metrics" >
                <div class="portlet-title">
                    <div class="caption">
                        <span ng-if="key === 0">Main </span> <span ng-if="key > 0">Rework {{key}} :</span>Metrics
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important">
                    <table class="table table-striped table-hover">
                        <tbody style="text-align:left;">
                          <tr>
                              <td style="text-align:left">
                                  <span class="text-muted">Confidence to succeed
                                          </span>
                              </td>
                              <td>
                                  <span class="pull-right text-info">
                                    <a href="#" class="pourcentage" editable-text="currentMetric.trust" e-style="width: 60px"  buttons="no">{{ currentMetric.trust || 'empty'}}</a>
                                  </span>
                              </td>
                          </tr>
                          <tr ng-if="task._id">
                            <td style="text-align:left">

                            </td>
                            <td>
                            </td>

                            </tr>
                            <tr ng-if="task._id">
                                <td>
                                    <span class="text-muted">Real StartDate
                                    </span>
                                </td>
                                <td>
                                    <span class="pull-right text-info" ng-class="{'bg-info text-info':currentMetric.lateStart}">
                                        <md-button class="md-button-slim" ng-click="showDatePicker(currentMetric,'startDate', $event)" aria-label="none" >
                                          <span ng-if="currentMetric.startDate"> {{currentMetric.startDate | date:'mediumDate'}}</span>
                                          <span ng-if="!currentMetric.startDate"> Wait to start</span>
                                        </md-button>
                                    </span>
                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">
                                    <span class="text-muted">Best Delivery Date
                                    </span>
                                </td>
                                <td>
                                    <span class="pull-right text-info" ng-class="{'bg-info text-info':currentMetric.lateEnd}">
                                      <md-button class="md-button-slim" ng-click="showDatePicker(currentMetric,'endDate', $event)" aria-label="none" >
                                        <span ng-if="currentMetric.endDate"> {{currentMetric.endDate | date:'mediumDate'}}</span>
                                        <span ng-if="!currentMetric.endDate"> {{ currentMetric.targetEndDate | date:'mediumDate'}}</span>
                                      </md-button>
                                    </span>
                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">

                                </td>
                                <td>

                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">
                                    <span class="text-muted">Spent Time
                                    </span>
                                </td>
                                <td>
                                    <span class="pull-right text-info">
                                      <a href="#" class="days" e-min="0" e-step="0.001" editable-number="currentMetric.timeSpent" e-style="width: 100px;"  buttons="no">{{currentMetric.timeSpent}}</a>
                                    </span>
                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">
                                    <span class="text-muted">Progress
                                  </span>
                                </td>
                                <td style="text-align:right;">
                                    <span style=" display:inline">
                                      <!-- <uib-progressbar value="currentMetric.progress" style="margin-bottom:0;height:15px;" type="info"></uib-progressbar> -->
                                      <a href="#" class="pourcentage" e-min="0" e-max="100" editable-number="currentMetric.progress" e-style="width: 100px;" buttons="no">{{currentMetric.progress}}</a>
                                    </span>
                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">

                                </td>
                                <td>

                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">
                                    <span class="text-muted">
                                      User Satisfaction
                                    </span>
                                </td>
                                <td>
                                    <span class="pull-right text-info">
                                      <a class="pourcentage"  ng-class="{'notMandatoryField':currentMetric.status !=='Finished'}" href="#" e-min="0" e-max="200" editable-number="currentMetric.userSatisfaction" e-style="width: 100px;" buttons="no">{{ currentMetric.userSatisfaction || 'empty'}}</a>
                                    </span>
                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">
                                    <span class="text-muted">  Actor Satisfaction
                                            </span>
                                </td>
                                <td>
                                    <span class="pull-right text-info">
                                      <a class="pourcentage"  href="#" ng-class="{'notMandatoryField':currentMetric.status !=='Finished'}" e-min="0" e-max="200" editable-number="currentMetric.actorSatisfaction" e-style="width: 100px;" buttons="no">{{ currentMetric.actorSatisfaction || 'empty'}}</a>
                                      </span>
                                </td>
                            </tr>
                            <tr ng-if="task._id">
                                <td style="text-align:left">
                                    <span class="text-muted">Full Delivery
                                              </span>
                                </td>
                                <td>
                                    <span class="pull-right text-info">
                                    <a href="#" class="pourcentage"   ng-class="{'notMandatoryField':currentMetric.status !=='Finished'}" e-min="0" e-max="200" editable-number="currentMetric.deliverableStatus" e-style="width: 100px;" buttons="no">{{ currentMetric.deliverableStatus || 'empty'}}</a>
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
            <div class="pull-right" style="width:200px" ng-if="!task._id" uib-tooltip-html="'You must fill the 7 mandatories fields : name, activity, context, startDate, Estimate workload, DueDate and confidence to be able to save'" tooltip-placement="bottom">
                <button type="button" name="button" style="width:200px" class="btn  btn-primary" ng-click="create()" ng-disabled="!(task.name && task.context && task.activity && task.metrics[0].targetstartDate && task.metrics[0].targetEndDate && task.metrics[0].targetLoad && task.metrics[0].trust)">Create</button>
            </div>

            <div class="portlet sale-summary" ng-repeat="(key, currentMetric) in task.metrics" ng-if="task._id">
                <div class="portlet-title">
                    <div class="caption">
                        Info & Issues
                    </div>
                    <div class="tools">
                        <div class="pull-right" ng-click="CommentIsExpanded=!CommentIsExpanded">
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!CommentIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="CommentIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                        </div>
                        <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.comments.length}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="height:45px;" ng-show="CommentIsExpanded">
                    <div class="pull-right" style="margin-right:-15px;display:inline-block">
                        <label class="form-check-label" style="color:grey">
               <input type="checkbox" class="form-check-input" ng-model="filterCommentType.auto">
               Auto
             </label>
                        <label class="form-check-label" style="color:grey">
                <input type="checkbox" class="form-check-input" ng-model="filterCommentType.manual" style="margin-left:15px;">
                Manual
              </label>
                        <input type="text" class="myfilter" name="filterComments" ng-model="filterComments" placeholder="Filter Comments" style="margin-left:15px;">
                    </div>
                </div>

                <div class="portlet-body" style="padding:10px;" ng-show="CommentIsExpanded">
                    <div class="form-group" style="padding-bottom:10px;display:flex">
                        <div class="">
                            <img uib-tooltip-html="'{{currentUser.name}}'" tooltip-placement="bottom" alt="" ng-src="assets/images/avatars/{{currentUser._id}}.png" style="width:30px;height:30px" class="img-circle" err-src="assets/images/avatars/avatar.png" />
                        </div>
                        <div class="input-group" style="width:90%;padding-left:16px;">
                            <input class="form-control " type="text" ng-model="comment.text" placeholder="Write a comment, an info or a link" ng-enter="addComment()">
                            <span class="input-group-btn">
                <button class="btn btn-outline btn-info" type="button"><span ng-click="addComment()">Comment</button>
              </span>
                        </div>
                    </div>
                    <div class="">
                        <ul class="" style="-webkit-padding-start: 0px!important;">
                            <li class="todoTask" ng-repeat="comment in task.comments | orderBy:'-date' | filter:filterComments | filter:filterByAutoManual track by $index" style="min-height:40px;height:auto;padding:10px 0 0 0!important;display:flex;vertical-align: middle;">
                                <div class="" style="width:50px;display:flex">
                                    <div class="" style="display:inline-flex">
                                        <img uib-tooltip-html="'{{comment.user.name}} <br/>
                                        {{comment.date | date:'MMM d, y HH:mm '}}'" tooltip-placement="bottom" alt="" ng-src="{{comment.user.avatar}}" style="width:25px;height:25px" ng-class="{'imageTransparent':comment.auto}" class="img-circle" err-src="assets/images/avatars/avatar.png" />
                                        <svg ng-if="!comment.auto" style="width:16px;color:#B9BCC0;fill:grey;margin-top:-8px;" class="svgIco" viewBox="0 0 32 32" title=""><path d="M19,2c6.065,0,11,4.935,11,11s-4.935,11-11,11h-5.19L8,28.126v-5.282l-0.919-0.59C3.899,20.211,2,16.751,2,13C2,6.935,6.935,2,13,2H19 M19,0h-6C5.832,0,0,5.832,0,13c0,4.59,2.398,8.623,6,10.937V32l8.448-6H19c7.168,0,13-5.832,13-13S26.168,0,19,0L19,0z"></path></svg>
                                    </div>
                                </div>
                                <div style="width:60px">
                                    <span class="dateComment">{{comment.date | date:'d MMM, HH:mm'}}</span>
                                </div>
                                <div class="">
                                    <span class="autoComment" ng-if="comment.auto === 2" style="color:rgba(91, 103, 133, 0.5)">{{comment.user.name}} </span> <span ng-class="{'autoComment':comment.auto}" ng-bind-html="comment.text | embed:{sanitizeHtml:false,linkTarget:'_blank'}"></span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12" ng-class="{'label-success':task.metrics[0].status ==='Finished','label-lightgrey':task.metrics[0].status =='Withdrawn'}" style="padding-bottom:20px;">
        <div class="pdcaCol" ng-class="{'label-success':task.metrics[0].status ==='Finished','label-lightgrey':task.metrics[0].status =='Withdrawn'}">
            CHECK
            <div class="pull-right" ng-if="task.metrics[0].status ==='Finished' || task.metrics[0].status =='Withdrawn'">
                <span class="label" >
                      {{task.metrics[0].status}}
                    </span>
            </div>
        </div>
        <!-- Alerts -->
        <div class="" id="Alert" style="margin-bottom:0!important">
            <div class="portlet sale-summary" ng-if="task._id">
                <div class="portlet-title">
                    <div class="caption">
                        Alerts
                    </div>
                    <div class="tools">
                      <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.alerts.length}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important">
                    <table class="table table-striped table-hover">
                        <tbody style="text-align:center;">
                            <tr ng-repeat="KPI in task.alerts | orderBy:'constraint' track by $index" on-finish-render uib-tooltip-html="'Contraint : {{KPI.constraint}}<br /> <br /> Description :  {{KPI.description}}  <br /> Suggestion :  {{KPI.suggestion}}'" tooltip-placement="left"  tooltip-class="tooltipkpi" >
                                <td style="text-align:left;width:65%">
                                  <a href="/KPI/{{KPI._id}}">{{KPI.name}}</a>
                                  <!-- <br ng-if="KPI.name==='Predicted OverCharge'"><small ng-if="KPI.name==='Predicted OverCharge'" class="text-muted">Projected WorkLoad </small> -->
                                </td>
                                <td style="text-align:left;width:35%;font-size:13px">
                                    <span ng-if="KPI.calcul.task !== undefined && KPI.calcul.task !== null" class="badge" ng-style="{'background-color':giveMeMyColor(KPI.calcul.task, KPI.category)}" style="height:15px;line-height:10px;width:15px;margin-right: 10px">&nbsp;</span>
                                    <span class="text-muted days" ng-if="KPI.name==='Predicted OverCharge'">
                                      {{task.metrics[task.metrics.length-1].projectedWorkload}}
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- KPIs -->
        <div class="" id="KPI">
            <div class="portlet sale-summary" ng-if="task._id">
                <div class="portlet-title">
                    <div class="caption">
                        KPIs
                    </div>
                    <div class="tools">
                        <div class="pull-right" ng-click="KPIIsExpanded=!KPIIsExpanded">
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!KPIIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="KPIIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                        </div>
                        <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.kpis.length}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important" ng-show="KPIIsExpanded">
                    <table class="table table-striped table-hover">
                        <tbody style="text-align:center;">
                            <tr ng-repeat="KPI in task.kpis | orderBy:'constraint' track by $index" on-finish-render uib-tooltip-html="'Contraint : {{KPI.constraint}}<br /> <br /> Description :  {{KPI.description}}  <br /> Suggestion :  {{KPI.suggestion}}'" tooltip-placement="left"  tooltip-class="tooltipkpi"  >
                                <td style="text-align:left;width:65%"><a href="/KPI/{{KPI._id}}">{{KPI.name}}</a></td>
                                <td style="text-align:left;width:35%;font-size:13px">
                                    <span ng-if="KPI.calcul.task !== undefined && KPI.calcul.task !== null" class="badge" ng-style="{'background-color':giveMeMyColor(KPI.calcul.task, KPI.category)}" style="height:15px;line-height:10px;width:15px;margin-right: 10px">&nbsp;&nbsp;</span> {{KPI.calcul.task}}
                                    <span ng-if="KPI.category === 'Goal' && KPI.calcul.task !== undefined && KPI.calcul.task !== null"> %</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- Anomalies -->
        <div class="" id="Anomalies">
            <div class="portlet sale-summary" ng-if="task._id">
                <div class="portlet-title">
                    <div class="caption">
                        Anomalies
                    </div>
                    <div class="tools">
                        <div class="pull-right" >
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!AnomalyIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="AnomalyIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                        </div>
                        <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.dashboards.length}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important">
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12" ng-class="{'label-success':task.metrics[0].status ==='Finished','label-lightgrey':task.metrics[0].status =='Withdrawn'}" style="padding-bottom:20px;">
        <div class="pdcaCol">
            ACT
        </div>
        <!-- Review -->
        <div class="" id="Review">
            <div class="portlet sale-summary" ng-if="task._id">
                <div class="portlet-title">
                    <div class="caption">
                        Review
                    </div>
                    <div class="tools">
                        <div class="pull-right" ng-click="ReviewIsExpanded=!ReviewIsExpanded">
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!ReviewIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="ReviewIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                        </div>
                        <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.reviews.length ||0}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important" ng-show="ReviewIsExpanded">
                  <table class="table table-striped table-hover">
                      <tbody style="text-align:center;">
                          <tr >
                              <td style="text-align:left;">Task Review</td>
                              <td style="text-align:right;padding-right:25px;font-size:13px">
                                <div class="circularButtonView circularToggleButtonView-button circularButtonView--xsmall circularButtonView--onWhiteBackground circularButtonView--active">
                                    <span class="circularButtonView-label">
                                      <svg class="svgIcon " viewBox="0 0 32 32" title="checkmark">
                                        <polygon points="27.672,4.786 10.901,21.557 4.328,14.984 1.5,17.812 10.901,27.214 30.5,7.615 "></polygon>
                                      </svg>
                                    </span>
                                </div>
                              </td>
                          </tr>
                          <tr >
                              <td style="text-align:left;">Perimeter Review</td>
                              <td style="text-align:right;padding-right:25px;font-size:13px">
                                <div class="circularButtonView circularToggleButtonView-button circularButtonView--xsmall circularButtonView--onWhiteBackground circularButtonView--active">
                                    <span class="circularButtonView-label">
                                      <svg class="svgIcon " viewBox="0 0 32 32" title="checkmark">
                                        <polygon points="27.672,4.786 10.901,21.557 4.328,14.984 1.5,17.812 10.901,27.214 30.5,7.615 "></polygon>
                                      </svg>
                                    </span>
                                </div>
                              </td>
                          </tr>
                      </tbody>
                  </table>
                </div>
            </div>
        </div>
        <div class="" id="ActionPlans">
            <div class="portlet sale-summary" ng-if="task._id">
                <div class="portlet-title" >
                    <div class="caption">
                        Action Plan
                    </div>
                    <div class="tools">
                        <div class="pull-right" ng-click="ActionPlanIsExpanded=!ActionPlanIsExpanded">
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!ActionPlanIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
                            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="ActionPlanIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
                        </div>
                        <span class="pull-right" style="margin-right:15px;"><small>Number:</small>  <span class="text-info">  {{task.ActionPlans.length ||0}}</span></span>
                    </div>
                </div>
                <div class="portlet-body" style="padding:0!important;" ng-show="ActionPlanIsExpanded">
                  <table class="table table-striped table-hover">
                      <tbody style="text-align:center;">
                          <tr ng-repeat="todo in task.todos | filter:filterToDo track by $index  " >
                              <td style="text-align:left;font-size:13px;width:32px;">
                                <div class="circularButtonView circularToggleButtonView-button circularButtonView--xsmall circularButtonView--onWhiteBackground circularButtonView--active">
                                    <span class="circularButtonView-label">
                                      <svg class="svgIcon " viewBox="0 0 32 32" title="checkmark">
                                        <polygon points="27.672,4.786 10.901,21.557 4.328,14.984 1.5,17.812 10.901,27.214 30.5,7.615 "></polygon>
                                      </svg>
                                    </span>
                                </div>
                              </td>
                              <td style="text-align:left">
                                <span ng-class="{'barre':todo.isDone}"><span style="color:black" >{{todo.text}}</span></span>
                              </td>
                              <td style="text-align:right;">
                                <md-button  class="md-button-slim" ng-click="$parent.showTodoDatePicker(todo, $event)" aria-label="none" style="min-width:20px!important;margin:0!important;padding:0!important;border-bottom:none;">
                                  <small class="text-muted" ng-show="todo.date">{{todo.date |date:'dd MMM' }}</small>
                                    <div ng-hide="todo.date" class="circularButtonView circularToggleButtonView-button circularButtonView--small circularButtonView--onWhiteBackground" uib-tooltip-html="'Add a due date to this subtask'" tooltip-placement="bottom">
                                        <span class="circularButtonView-label">
                                      <svg class="svgIcon task-row-due-date-icon" viewBox="0 0 32 32" title="calendar">
                                        <rect x="16" y="16" width="2" height="2"></rect><rect x="20" y="16" width="2" height="2"></rect>
                                        <rect x="20" y="20" width="2" height="2"></rect><rect x="16" y="20" width="2" height="2"></rect>
                                        <rect x="8" y="20" width="2" height="2"></rect><rect x="8" y="24" width="2" height="2"></rect>
                                        <rect x="16" y="24" width="2" height="2"></rect><rect x="12" y="16" width="2" height="2"></rect>
                                        <rect x="12" y="20" width="2" height="2"></rect><rect x="12" y="24" width="2" height="2"></rect>
                                        <path d="M22,2V0h-2v2h-8V0h-2v2H2v30h28V2H22z M28,30H4V12h24V30z M28,10H4V4h6v2h2V4h8v2h2V4h6V10z"></path>
                                      </svg>
                                    </span>
                                    </div>
                                </md-button>
                                <a ng-click="AssignSubtTaskActor(todo)">
                                    <img ng-show="todo.actor" uib-tooltip-html="'{{todo.actor.name}}'" tooltip-placement="bottom" alt="" ng-src="{{todo.actor.avatar}}" style="width:30px;height:30px;" class="img-circle" err-src="assets/images/avatars/avatar.png" />&nbsp;
                                    <div ng-hide="todo.actor" class="circularButtonView circularToggleButtonView-button circularButtonView--small circularButtonView--onWhiteBackground" uib-tooltip-html="'Assign this subtask'" tooltip-placement="bottom">
                                        <span class="circularButtonView-label">
                                      <svg class="svgIcon task-row-assignee-icon" viewBox="0 0 32 32" title="unassigned">
                                        <path d="M20.534,16.765C23.203,15.204,25,12.315,25,9c0-4.971-4.029-9-9-9S7,4.029,7,9c0,3.315,1.797,6.204,4.466,7.765C5.962,18.651,2,23.857,2,30c0,0.681,0.065,1.345,0.159,2h27.682C29.935,31.345,30,30.681,30,30C30,23.857,26.038,18.651,20.534,16.765z M9,9c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S9,12.86,9,9z M4,30c0-6.617,5.383-12,12-12s12,5.383,12,12H4z"></path>
                                      </svg>
                                    </span>
                                    </div>
                                </a>
                              </td>
                          </tr>
                      </tbody>
                  </table>
                    
                </div>
            </div>
        </div>
    </div>
</div>
<div style="padding-top:25px">
    <span>Debug</span>
        <div ng-init="DebugIsExpanded=false" ng-click="DebugIsExpanded=!DebugIsExpanded">
            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="!DebugIsExpanded" viewBox="0 0 32 32" title="expand header"><g><g><polygon points="24.158,16.274 22.385,14.5 15.939,20.824 9.615,14.5 7.842,16.274 16,24.432"></polygon></g><g><polygon points="24.158,9.342 22.385,7.568 15.939,13.892 9.615,7.568 7.842,9.342 16,17.5"></polygon></g></g></svg>
            <svg class="svgIcon " style="width:16px;color:#B9BCC0;fill:grey" ng-show="DebugIsExpanded" viewBox="0 0 32 32" title="collapse header"><g><g><polygon points="7.842,15.726 9.615,17.5 16.061,11.176 22.385,17.5 24.158,15.726 16,7.568"></polygon></g><g><polygon points="7.842,22.658 9.615,24.432 16.061,18.108 22.385,24.432 24.158,22.658 16,14.5"></polygon></g></g></svg>
        </div>
    <br>
    <pre ng-show="DebugIsExpanded">{{task | json}}</pre>
</div>
</div>

<!-- END PAGE CONTENT-->
