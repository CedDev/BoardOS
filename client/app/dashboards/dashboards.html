<div ng-include="'components/navbar/navbar.html'"></div>
<!--* Modal Part-->
<div style="padding:15px;">
  Filter :  <input style="width:100%" ng-model="searchText">
</div>
<div class="row">
      <div class="portlet">
        <div class="portlet-title">
          <div class="caption">
            <i class="fa fa-dashboard"></i>Dashboards List
          </div>
          <div class="pull-right">
            <a class="btn btn-primary btn-xs" href="/dashboard/">Create a new dashboard</a>
          </div>
        </div>
        <div class="portlet-body">
          <table class="table table-striped table-bordered table-hover" id="sample_4">
            <thead>
              <tr>
                <th >
                  <i class="fa fa-question-sign"></i>
                </th>
                <th  style="width:60%">
                  <i class="fa fa-briefcase"></i>Name
                </th>
                <th class="hidden-xs" style="width:20%">
                  <i class="fa fa-question-sign"></i> Activity
                </th>
                <th class="hidden-xs"  style="width:20%">
                  <i class="fa fa-question-sign"></i> Context
                </th>
                <th>
                  <i class="fa fa-bookmark"></i> Action
                </th>
                <th ng-if="isAdmin">
                  <i class="fa fa-delete"></i>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="dashboard in dashboards | orderBy:'name' | filter:filter()">
               <td>
                 <div popover-html-unsafe="Name : <b>{{dashboard.owner.name}}</b> </br> Role : <b>{{dashboard.owner.role}}</b> " popover-trigger="mouseenter" popover-title="Owner Identity" popover-placement="right" >
                 <img alt="" ng-src="assets/images/avatars/{{dashboard.owner._id}}.png"  class="img-circle" err-src="assets/images/avatars/avatar.png"/>
                 </div>
               </td>
               <td >
                <a href="/dashboard/{{dashboard._id}}">{{dashboard.name}}</a>
               </td>
               <td  class="hidden-xs" >
                 {{dashboard.activity || 'ALL'}}
               </td>
               <td class="hidden-xs">
                 {{dashboard.context || 'ALL'}}
               </td>
               <td>
                 <button class="btn btn-success" ng-click="pinDashboard(dashboard)" ng-if="dashboard.owner._id !== currentUser._id">Add to myDashboards</button>
                 <div ng-if="dashboard.owner._id === currentUser._id">Already Yours</div>
               </td>
               <td ng-if="isAdmin">
                 <button class="btn btn-danger" ng-click="delete(dashboard,$index)">Delete</button>
               </td>
             </tr>
           </tbody>
         </table>
       </div>
     </div>
</div>


