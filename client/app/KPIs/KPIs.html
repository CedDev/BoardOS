<div ng-include="'components/navbar/navbar.html'"></div>
<!--* Modal Part-->

<div class="row">
  <!-- Layout Part -->
  <tabset>

    <tab heading="List" active="config.tab1">
      <div class="portlet">
        <div class="portlet-title">
          <div class="caption">
            <i class="fa fa-KPI"></i>KPIs List
          </div>
        </div>
        <div class="portlet-body">
          <table class="table table-striped table-bordered table-hover" id="sample_4">
           <tbody>
            <tr ng-repeat="KPI in KPIs | orderBy : Activity | filter: myFilter track by KPI._id " on-finish-render>
              <td>
               <a href="/KPI/{{KPI._id}}">{{KPI.name}}</a>
             </td>
             <td>
               {{KPI.activity}}
             </td>
             <td>
               {{KPI.context}}
             </td>
             <td>
               {{KPI.axe}}
             </td>
             <td>
               {{KPI.tags}}
             </td>
             <td>
               {{KPI.username}}
             </td>
             <td>
               <button class="btn " ng-click="edit(KPI)">Edit</button>
             </td>
             <td>
               <button class="btn btn-danger" ng-click="delete(KPI, $index)">Delete</button>
             </td>
           </tr>
         </tbody>
       </table>
     </div>
   </div>

 </tab>
 <tab heading="Create" active="config.tab2" select="loadXEditable()">
  <div class="portlet">
    <div class="portlet-title">
      <div class="caption">
        <i class="fa fa-plus"></i><a href="#" id="name" data-type="text" data-placement="top" data-title="Enter name" >{{ KPI.name ||'empty'}}</a>
      </div>
    </div>
    <div class="portlet-body">
      <div class="row">
        <div class="col-md-12">

          This KPI's purpose is <a href="#" id="Category" >{{ KPI.category}}</a>  <br/><br/>
          This KPI calculates every metrics in this perimeter :<br/>
          <ul>
            <li>Contexte : <a  href="#" id="Context" data-value="{{ KPI.context }}"  >{{ KPI.context ||'all'}}</a> </li>
            <li>Activit√©s : <a href="#" id="Activity" data-value="{{ KPI.activity }}"  >{{ KPI.activity ||'all'}}</a> </li>
            <li>Axe :  <a  href="#" id="Axe" data-value="{{ KPI.axe }}" >{{ KPI.axe ||'all'}}</a></li>
            <li>TimeFrame :  <span class="focusValue">all</span></li>
          </ul>
          This KPI calculates the <a href="#" id="Action" >{{ KPI.action ||'empty'}}</a> of metrics of <a href="#" id="metricTaskField" >{{ KPI.metricTaskField ||'empty'}}</a> with following values : <a href="#" id="metricTaskValues" >{{ KPI.metricTaskValues ||'all'}}</a><br/> 
          Reference values will be metrics of <a  href="#" id="refMetricTaskField" >{{ KPI.refMetricTaskField ||'empty'}}</a> with following values : <a  href="#" id="refMetricTaskValues" >{{ KPI.refMetricTaskValues ||'all'}}</a><br/> 
          <br/>
          Values are grouped in time by <a href="#" id="groupBy">{{ KPI.groupBy ||'empty'}}</a> and need to be refreshed every <a href="#" id="refresh" > {{ KPI.refresh }}</a> days <br/><br/>
          Following tags has been attached to this KPI : <a href="#" id="Tags">{{ KPI.tags }}</a> <br/><br/>

          This KPI was last time modified by <a href="#" id="username">{{ KPI.username ||'empty'}}</a> on  <a href="#" id="date" >{{ (KPI.date | date:"dd/MM/yyyy") ||'empty'}}</a>

        </div>
      </div>
    </div>
    <div class="form-actions">
      <div class="row">
        <div class="col-md-offset-9 col-md-9">
          <button type="button" class="btn btn-default" ng-click="reset()">Reset</button>
          <button type="submit" class="btn btn-info" ng-click="save()">Save</button>
        </div>
      </div>
    </div>
  </div>
</tab>
</tabset>

